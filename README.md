# GPU-Accelerated CFD Solver Demo

这是一个使用 CUDA 加速的 2D CFD 求解器演示项目。该项目实现了基本的 Navier-Stokes 方程求解，并使用 GPU 进行加速计算。

## 项目结构

```
.
├── src/                    # 源代码目录
│   ├── cuda/              # CUDA加速核心代码
│   │   └── cuda_wrapper.cu # CUDA核函数实现
│   └── cpu/               # CPU端代码
│       └── cfd_solver.cpp # CFD求解器类实现
├── include/               # 头文件
│   ├── cfd_solver.h      # CFD求解器类声明
│   └── cuda_wrapper.h    # CUDA包装函数声明
├── build/                 # 构建目录
├── CMakeLists.txt        # CMake构建配置
└── README.md             # 项目说明文档
```

## 依赖要求

- CUDA Toolkit (>= 11.0)
- CMake (>= 3.10)
- C++编译器 (支持 C++17)

## 构建方法

```bash
mkdir build
cd build
cmake ..
cmake --build . --config Release
```

## 运行方法

```bash
cd build/Release
./cfd_solver
```

## 实现方法

### 数值方法

1. **时间积分**:

   - 使用显式时间积分
   - 固定时间步长

2. **空间离散化**:

   - 使用中心差分格式
   - 二阶精度空间导数

3. **求解方程**:
   - 速度场：对流-扩散方程
   - 压力场：压力泊松方程
   - 温度场：固定初始温度

### GPU 加速策略

1. **并行化方案**:

   - 每个网格点由一个 CUDA 线程处理
   - 使用 16x16 的线程块大小
   - 使用 CUDA 流进行异步计算

2. **内存管理**:
   - 使用设备内存存储计算场
   - 使用主机内存存储可视化数据
   - 异步内存传输

## 当前限制

1. **物理模型**:

   - 简化的 Navier-Stokes 方程
   - 没有考虑粘性项
   - 没有完整的能量方程

2. **数值方法**:

   - 使用显式时间积分，可能限制时间步长
   - 没有实现特殊的边界条件
   - 没有考虑网格变形

3. **功能限制**:
   - 仅支持 2D 计算
   - 没有可视化功能
   - 没有结果输出功能

## 未来改进方向

1. **物理模型**:

   - 添加完整的 Navier-Stokes 方程
   - 实现能量方程
   - 添加湍流模型

2. **数值方法**:

   - 实现 SIMPLE 算法
   - 添加更稳定的时间积分方法
   - 实现适当的边界条件

3. **功能扩展**:

   - 添加 3D 支持
   - 实现可视化功能
   - 添加结果输出功能
   - 支持非结构化网格

4. **性能优化**:
   - 优化内存访问模式
   - 实现多 GPU 支持
   - 添加自适应时间步长

## 性能

当前实现中，每个时间步的计算时间约为 0.03-0.17 毫秒（在 256x256 网格上）。性能可能会随着问题规模的增加而降低。

## 贡献

欢迎提交问题和改进建议！

## 许可证

MIT License
